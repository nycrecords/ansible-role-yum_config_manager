language: python
python:
- 3.7
env:
  global:
  - MOLECULE_DEBUG: 'true'
  - ROLE_NAME: redis
  - EC2_REGION: us-east-1
  - secure: q2wAppJQ3L1jDBP/KinEwNa08WMEKXMoWUg56ww10EpVRA4hsqW+69RWw+gkjE8t0LlZ7pygYMCqpNxE3t+5kkKuuomB8MHqRqs2kbz2ZsmHrDUfWqkmuSEGGqoBDpIxABo8hnFq7EmBKO7+yEjVi1dv3ctOAglxV6EQKsO6J0HHKYWzu82mIJg8OqF4L0896i8EdJb5EeupD2GqZeMe+wK46p6JUtug++VFqsUV5qLwfEB+J3xH4/28QRSb1n8j5/VniaTkt5F9hRl7gTOJusudIRqOAMS57CQM0dl5GzsyotqVzDf4TUx2vybBTQGHGba0fKPc+7HlQp9pu83tj3FuPGoJT4LJAVU6TRSAzrVhQipuNpuX+YpuprMFfOyrdCMt+i0ogk5dabx7QopB2AgUDw9qjcEzxQly2OcAXmGkCnLdHhSsU61pbTvF+jJ1PnIa5mqwmlBOREPj1eLi/EYqP6141RvT1O9XqVXLhCzdrH/imp2VDKsV2sQQTIV9W0VSJ+ikDbl1fX4DnOYYiiMjp4BCoMsPpdxLFJGASfs0cIdI8LsYkp85X7BGcVCzeZ99O3L5HlxpURyIKjtZq3GZGx+6l2NvjZiTsfaRE5zWXDHK4anKAB41L76+gEtZuxwF5VtJzQvdy0jaTk2vDz27nr66rFMza/UuZnpSQFE=
  - secure: RsG1L6lVlVntPtESwhf7R3szZRAB2CG0soICK2zvhGMrGZZSMWJACVJ6MMZbeqWpQYWmWBlY6X65Ms6bW6QzbqX9NZrqeqRyQYUP6OMHEMAdWJ81o2nI2Skx92yhUqCAQ9wayERij8CVbUVivx1YrgA4IsyJXfskJaUG7zUcAXsPbXnw04PQ3vvmPDL4pCgOIudeGe15HV9KaWBHw31cT+y4pLHipKcvs4MTj57Vl8anJpagmYeNVh+JoavzA2CYy/CeGjXeiTy3LOl9hB9iHcrlhcCsoUsPm9OxNg4JHyI/RnOGK65RvWV3ECl1p5WXoQtBz7UrZEXQAcEOnLLGae8VA6EWRVxJwaml6E2IYUEghtpmFRd0msVOqo+jyX9HehhE5Nl4QWPbW9yv09ofKIIcOqf31D7vLnAU1YygQSIBbFinezGY+r78HaUpAfw/YXVNnbHIJPnfK+YTuyzo7w5lR4XUE9QesRPgiAuTr8opYjl3SEdsF5Vr2dESFvvIX4iWaWFjT2RtPj3CEt3VdQNL5hUcaa3SB3lxVUK0XVK9eP8xYUYhpv8iRDbm0MrgvNkGPIDgm4DCZQFembzHKITEUO6GoqYFNoUIldq5yfv3+VLkMtMgwlp+rb6L22zQfvFav/0G/wwgS5znWjPaFFscGRH8/fgCSxrXgyrkNM4=
  - secure: jogtPbbpsLQAks4lcHXq2k+W2DB9DMo0Nv4bXEzAsxqv4OZ8A2UT/QgACuCjKMXxXFzmX6XoIlIU5UIf2rFYn5fXpmtjIY1TLQkYYT2lF/8O/W8VJwbRjVlMIJhVktlpxW6TsW7JKIKhYJRD0OsOGG05E1WllgULNT7DxZP62LhFUdLywf4HAOIPbsyk6LZ2NNpP8y8G3/j16Q5rfGjXY9I1vDlA9J7hOfExWbbJ7x51mKuSifNwJiG6OLsdJ/zOm43LUkpTp4JO3aOiSf+eU6ExYTkGjyb/r2kYMqG8WOR4zPzPNqt878s1CT9QNFHt/ZOMIHhMIWug9/42tiAITjPUxCzvkfLB4ppDVzYMVw/ClisOLmwK0yPM2O5fCNVyQ2RiFnymLxQCvFAC9dyRcXfNFxo1Z5rx0Soj8fuOpII73EediU1HvVQPutWZsg51ZPZYRP/RY9JbG3w1MbgUxUEHeZ9EghLxsX2paraXarKvSFADgycjEdDUjt1hx3f4Ux7VOMV811PXALS7XWK1xjACfofjv+PqLaVS5iPIsyOizp7iRkyBgE9HPCa8/KbZLYVkswb/ezFG6L6wMyWbxb3o9noesLYlAKeo+x0ZGmcZGawR74zHX/YThFkDgq8iBTi+f0kgbpn5b7quTALMOvG+yA1FqoEAD0kdOlhmnMM=
  - secure: SaN+d0NLqpW9DtXWaGfzoWw3hY69hRzjmmulLwKUxmOdrMjl2VMLFgUzId+0MpqAySEuO2DmAKE7LaZY5zH8vFuaHNKpVTBGBEvADvieqn55SA+LJm/ockWg5Xsb4w4NLA7JgVTrR9JvZUf20o1X+jY6a8GD2lRdlLo/4Q3LkZ2IntHIQtHd7QZJRhoAajaegwJ+qI+FdpCNna2KROAflkZwPeHQC6BeSemXEd5rZYHVXDe+EeZ7R8ztXg47DC/0aV3R8QtX4qQmETxrkwDVpmf7WIWJTLU0HyPMtonCrBiMoDlbi1TzpppIpftoKll+zBSXDMm81ajOPA0STkLb8w8UaUmVrtpibf/HenaRWeey6D3ahtL+IOAfJwWvgutnXs/Lnsl8zE5TzW/guVAl8e8Lmm5XO6DwzUmyKF8CE4x859Q5f9ZxxQ4s1eK+SlYQvia7gM+xIRvL8SjbcozYE/zHLQ3A55IM4tsdPeo+uB8hrxbkP8z+e+hHJOFeqDVnUF031OJXsnZodEPMylkCBXFKbFAvFDy+gqNrCvSlYFM8ECkyN4dbNoydeDQU7zlvMyur9qd/G73uV6Pk2n14iiTWmf50CQ42PDuEo/F7/k/gU+1UZW9hC1msMyA8iYY8m57QH7L/6omJn1DmfGwMUxHPMpoal35v+TTZ1ewLmfw=
  - secure: awv4/acKG3OliSpZ5W1fm/fzmRsm3ik/nIfgIf8OaXyDBh2+G/Ziv3zkWi0B3LRq1sJjF8cAzmblSPps9xGqqw0ZbFxwP/ohwo62IWTI3FTq5fGuF/UO3kL6aQxVHUlDbj5JdIw0Z+TDGLJuNT+KLsTIGUzd0uYSnAQow5MkT7H/HW8ER2e18PLbdBqPV+M8XrJ9iMEtiUdH+UXgYhBDwPKXv90hPj6uAV/OK00ktYEC6fajqz0qyK9XEKlpmhftrUUaodOSBnDMJi07qLVcTIC+vecxJA9kD7Wam7NUy5bTxfM0GLjHvj0uORyv5v+kr/RIa+k5b9Yl79217EjL8fqaF0w/9KbE+uib+L7kn69cn2KdZbaKQIA57jsun5VX+ImULpwe3wi2pBFQrsyb86MepI/nuJ+IoJhCHGWoeX5Rd4YPnKGM09UFjFcFl6BGWWxVFUFOjqSRuWL1CabVCYcGtsUFnZmMFYk51nIQjOjbVY1D511mrF4X0Xaf4f/pB6PM16B0RRb8enKnwd2BFGOgZ8wdgjaF9PSVxvAlzxFoa8VjsLNC1z2cG6GmIcCCV8JcbIC6bETaLwyROldojzWoX/0LpEzsL+tgYmoxk0b8POJyCtg+jVR6cmehtgJN2vcCeL7jKKpMl+OoDAa2VnCjd1MMlzoFLCLdhZDniyc=
  - secure: JGG8YuGwtznqlQ4BcZTKO8fiIHe77Vb0MnshmouLepTZRAfgthv3q6BekCxhJ4EnVinR2od13PhsZFKxiGRXwMN+UB9guaV6m7ZdcFY/To0p7FqFsZMETKr3lpDphoY2bcXbUzTteqVCkrUmesi9RJ6l0mpXfMg1ucw8WD98wo41gKePuCFtRXvIihHAZgByO0Sgu3AXaqrWIhURVrqU9ae/HJru5gS1w60zEFrda5f/FDhzVFuTKO7W4mF+95Z5YUWB92M9cRdoq9XjXI+w+zLWBb3kCslb3dg9qeJiKpK2jwxbkQFOaC7DAzF0+1G1dn6jsOiB/brEgvMdLq9NSlbkLURWlih3KuzGYUe7bkwju70rGMfV535wu8t3dyJISdwNEkq5J03AdM0WlJ9eGNUKXIAnCsYiytdmfANK3/FH+KxtiJBaNtMHLyzBRSDEHRdkDrVNndlushlfAonn59Wc9youbR+3YWlQRKXK6/JHnIHQ1scqnIleiv8wUPZHw4bh+jeLnqT7dZJun3zdI6m93TB3wsfntOpc3n2z34wOj1cDi15axPhG34JAcgQ+1WorE8+xcrbTy3YKU8nZDLkQeeez7gxX0xGJioYZuAdCRSBQix/X1SEtJpw2yU0TA4RI0uejmmmy0gmyvTix+GwKeGjJMcKVD4DW0BzoA4c=
  - secure: 2ISI2K1pBaexsICfkcc5CNgPpXS9f44r7/4osz1E3Vbax2od7hl8R8oJvhuhLFW7qO9lzVqvFln934IVKotiG3PU+DGPnIJ3ljBrm1i32gsgNmIU3RAZq3LT38C9Yy4VAy36yZGn9BcI+4uJLorac58Xxf7mx9wVcJpUFpZyB1Fvj30DPOhJ+HLWvdTSH687Lh8khMNm4ODUJ0JGGdUffNsIjTGR6u7IZvFclm91CiaVK9IjyOKx9GMCLlPBLGP5TFjct0VYYiD+I5B2U34VN/seTbM5DYIC4AqlqnHmY0U3LAxpC13QdUSvTeFNb7JjG7R0N+xRIgkqRGlyVaZZwLIC33fcPz7MLGsgi2ykC56dCc/ymcUruS0PrRCZLPz3FGVEqkzwSPARD8gCgZ+LeLNjg8HndgVXWwijftkusc4NXiTEzaBYOynXy60Y+NCCrJ1UiNJZ4PHYXp3k+OERbyeZbKMptvxydsSAD6uzrlqP4MkvE3DcJZA9BB/UPn0T0tV2BDsquV2ruNQD4Y1fwgFx0WHRR26rmR1LOgya2XTx5UjSTnM3LQ0CZNg/pp2YqwxZhR0zPRrg38zF/Kg5SJCRY3DIM0kYAbOTwSSyraWSLq+ZWusMV/utP4nj84pa2WSWtoIas6PgNRbDvN89kEyLI4KNQmOntnK9vNM4YQs=
  - secure: I8Sp6BbAWLAgNK3jR2KS2VgRze6doVxxockt6/HvvbM3UDK82sO8sa24/FK8/ymfE0caK1CYGMflMIzHFaZHr0Y8mFWD2JpyYHLl3HgG8BXwu1CFWKn6yCSW1HELZw22sxU++RDXuIuCU2qZo9bR0AksywCAT1qdxbUuwjkWSEqy2xypMaL1WTe3oUzGwT5Y9bas2GlL2Kl5WjmqO4LX23xAeTr4AAgPvJ2dkMy3rpgX6RXNVs7GuP93kC3w2atoOZyH/WWor3QwwqD9qJL4ZxrjuAVbjmDFPr2gkR1td2poS2n9xxRYBdZ0nOijz0/34BkaoLUt6R4zlA4s8zWpBdqKQnUuG0RPKMz1uzrnkvTxgDmcsTjcp5WmwxTnyeaScoygmBz3wYkgAyWElliMKF53xuXcvLki9ebmDrYELly9EdjF/2il64mIpIZWUaiTZ7yVv/IXCijBvF/fXuqSYbogvjV9ervqFd28opZt3mXtJYuvIhuNf5LtBE0L+6p6qmg2+m4yjemz3JJ9qow/zfnTy8UlgLt/6sZ8SoLAO5tDi+feuJc1qja0ymCJxahZbKSIs9+JK/8CA/m0G4AGtTUkv+1/HiKb1yi6DjIGuj4Zj18eL7+7LdsziwQ89vYtba25N1cu8PFdIAF18PxpuIfMtkh5jsXR8Lukl3LYDZE=
  - secure: vBtfIoB9+/SboJnvmTC80+sBYWDlhIzCFRdvbP/YAVd1O1OaKjc5alcYfDTbBdGP/qRHqt1amwldz8lCYkmySzjV/CgZn+9ShC9LfYpsD46aBnv0QBC/qMmsIV/LnPDFFVKXpsoa2ADPMYgXN9d9I17/Bxw5TSvctEuZeZz1VCdNE/qG8PHqOcHSgTYIQWtgrBTlkmhzF5Tk2EZsZFyAtK9kL0YA99kz5eIVNRd0JpFC7N0nWFBwpmJeuuuAQmBIyxPim3Bu07plqhNqc+pZRuHWJUzLX+qsnrj8/UpWcwZkaUn5ouN2tNdeBMfgjWHDkfX7IIMztoWOIJNlSYnwPKKmds3I4+e/RmoOkbBba+pwhBl47AUfQg6tp7xaS1YzVWZJto48zpCepRSnC0WduAyasrP5b/laaRZWmd/690SGywaVR1FZoiIDGVZrFejiCb+IuR1LD+qS2dhbEeE4tEjGDBF7hZt8I0zEKZA1M4/OGA8encjrZOm6Ki/JeoE4cxrnksbDnp6TiWqpuDfO0VipyWtyiLSh8FCVWayUO36Nc2/o1fRTSThRle22D2kJ1ijLTOMuiHerSK2G0Rln+7eiOPKhilCIIoftZktVaBUmBfSCrqgEkHWQEj2OlXEeNFq/rfE7nUqf+URjwmqsMWkDFxBj49KPRm7AFfOfXws=
  - secure: qnPQxrfWHp80II/7xOrGJw/c1zRdTHlbeuyks8E/gSoIZviPvsHBhFUvrxScy8C631y0v6Ek0AONc4iiy85WXXyRm5lT5Nw8V0S8Mk+BIfRn9LZRTb86KBsVbBnI09M4AEJp/J8GR1tmTqHxc0Y2sBmTyJyidwN+pEB6P+QKFRLY6ytmi8UbE427ZKQdEHgJBPPJ4GSfJbmEcffu7ZLPbHaRg1MW0cR02ZXyccIOvUr0+39FS/wqHfU2QFsBXHHNYgoi/w8lWCsr1ggfu8AAtlk14llQClRwfGRuMKRctG62bfsa7J+FVijreujJe+p9qYgtEH+WWi6G3Qx6aYjR7+BWAywB4w9q1CNUk7lxCF5XmhXkAtzaHfsCSJM2ZmbUkZPjS0sPD3q+BU+2h82QwVfG6D/pRzOBXaPVp+UkG1tj1NlhbG/7VXjd4msYXicbIuyC6nAJ9vH571rgZ1woCAxmyVBpgLVAZe5Tzcq4zGtYUyXimK/tacq7E9stwGPlevu5czYuaOIgIcJLuCDwogug+q8ad17cmNCDmhFkDtVlOmr2rYj35KgTPZhbESKoapwmuyH4qQZS2dKiuxeUeD6BazjDVV/iipQZtv/yDCOnSUGpDPwvWQETWr1Sh8U1gX+QXAchy3TIxpbES/rVqzgf/Koj3T3dHp2SCWXBXmU=
  - secure: hLJgCq2Fdcf0/ZAERsrRiGuUAQZhGZil/RcmV11mND/HtX4npp1/FXL8TntMLKmlgvEVIzmPqCVVvNWzITGdQqFYj+r/DIG8bmxr8KDYbbhE4O3ZMjZK5FZoTduqWnD4khDi8uI8+5xaGWRT3wLG3FBH43ZYNa0yb3TYuGoDNwKFA8L28gfLVU8ooA/PGnbjHfhZmWKJxPHuUhAJuWkzLGNQc2KlVj6au1l0eIeYn7b2QijbhoMpE6YIIKKU2ZjF98qewovIIpW7ZMYcVnauh8MF7s3SBjibtKC0Z/95o9bZnnCLoaLUeHlYaOx6Z9cBxNDXlfjC3kaJoKS8gjxO0RNauh8kWKhitE4GRcIgf4nuCYzrkl0VNZIWkle9b5SQB+89TETteVW8p+BCOmCrcwgzrURvhbkcFLXruAPaWjKw1DskKQUZXEve7ASsFZEHCV9iGdX6X0q4B0JHlqiLznHDqWgOl/bMF/mO9G0GBYqx6JlyigBZIQqNyrxNorsSi2DeD83kthdK6ywDI07+Jxs7Z1YHmx+A3BXRz949Y+QgVV+lmeWUFJIIhWdN14P26E2Loxy+1uqIr8/99DR13wVllJzPuQTSIGevDlF6GHvcVIJWhHHBxT0q//Q2GExNebvguHeG5Eic4cjVH0kFO6hbyiFcQQUjoJK01E0tajM=
  - secure: sFmlu3b3Fybon8Ey0JugaW9FNNDrWVvueXjnF9XDNFc1EVHkIa+xNLixNX2Tr2JoaIuN146W45eIyxPShPxE04B8hJTO+Fsp5S7MK2UrO8+qWmer7cQ7zoO6TkxCRJosEVpSHpQ4I4zMHz9rjspCtm4dbSzxcwmSXTBuDO8tIjCK+O0+auAtoXMcrD+5a8uSA4lzCBhWb6CqXr8UsJH6brKSv+FJCfH+pP3c+F+k+KuXWHv0A9gMQAePrWh4QUONVvldOj7+FxeTSZDqOIx8IUYq+9Xoy8g4G7dDV1kBKJfGsFrLPR4uM+BUGAPAUU5/6GtquAtEAdXLnxi4dNC7Np7dXyWAXj54aRolWlFud2HU9sNX1q4dHDOXzYhIpWN/IJrtgje9g5MegCimOmmy9P/AUc+Ht6COGvzrlY+Z98oVJbIgiMXavwuPw4jetSRmiXFBaKkTTDW75fPc+0CckLEBxqgcm8oDYa/+/f05MEGw2V8Tk+6GLljPOfxz8AAHGfBXKe3gYHRVjwdkaVkqDHddfoydw2kALnC8sWz+GHV8K/zI+NkjLrBIdL8mCW65yXX0BGo+Q2KD+88aCfT4RvJvimDYwNlz0xUkM1vup+7urtWPFUHApQENAdylDvRiTzNnsIqOkHeZUP9+q+NhwB8hg/7KLmz8wUNeEN2olUc=
install:
- pip install pipenv
- pipenv install
- aws configure set aws_access_key_id $AWS_ACCESS_KEY
- aws configure set aws_secret_access_key $AWS_SECRET_KEY
- aws configure set default.region $EC2_REGION
- aws configure list
script:
- molecule create --scenario-name aws
- molecule converge --scenario-name aws
- molecule verify --scenario-name aws
- molecule destroy --scenario-name aws
notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
